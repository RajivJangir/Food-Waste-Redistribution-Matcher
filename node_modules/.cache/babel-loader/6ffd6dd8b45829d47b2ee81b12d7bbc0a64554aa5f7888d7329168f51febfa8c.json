{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajiv\\\\OneDrive\\\\Desktop\\\\Projects\\\\Food Waste Redistribution Matcher\\\\foodsave-react\\\\src\\\\components\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Chart, registerables } from 'chart.js';\nimport { useAppContext } from '../context/AppContext';\nimport FoodCard from './FoodCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nconst Dashboard = () => {\n  _s();\n  const {\n    stats,\n    listings,\n    actions,\n    formatNumber\n  } = useAppContext();\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  useEffect(() => {\n    if (chartRef.current) {\n      // Destroy existing chart if it exists\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n      }\n      const ctx = chartRef.current.getContext('2d');\n      chartInstanceRef.current = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n          datasets: [{\n            label: 'Food Donations (kg)',\n            data: [120, 190, 150, 220, 180, 300, 280, 250, 320, 350, 400, 380],\n            backgroundColor: '#4CAF50',\n            borderColor: '#388E3C',\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    }\n\n    // Cleanup function\n    return () => {\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n      }\n    };\n  }, []);\n  const recentListings = [...listings].reverse().slice(0, 3);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"dashboard\",\n    id: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Organization Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => actions.showModal('donate'),\n        children: \"Add Food Listing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: stats.totalDonations || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Total Donations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: formatNumber(stats.mealsProvided || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Meals Provided\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: stats.co2Reduced || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"CO\\u2082 Reduced (tons)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: stats.activeDrivers || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Active Drivers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Monthly Food Distribution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          height: '300px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: chartRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recent-listings\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recent Food Listings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"food-cards\",\n        children: recentListings.map(listing => /*#__PURE__*/_jsxDEV(FoodCard, {\n          listing: listing\n        }, listing.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"eQXgPwZlQZ26Jk1SOMASBDCCj/o=\", false, function () {\n  return [useAppContext];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useRef","Chart","registerables","useAppContext","FoodCard","jsxDEV","_jsxDEV","register","Dashboard","_s","stats","listings","actions","formatNumber","chartRef","chartInstanceRef","current","destroy","ctx","getContext","type","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","scales","y","beginAtZero","recentListings","reverse","slice","className","id","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","showModal","totalDonations","mealsProvided","co2Reduced","activeDrivers","style","position","height","ref","map","listing","_c","$RefreshReg$"],"sources":["C:/Users/rajiv/OneDrive/Desktop/Projects/Food Waste Redistribution Matcher/foodsave-react/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { useAppContext } from '../context/AppContext';\r\nimport FoodCard from './FoodCard';\r\n\r\nChart.register(...registerables);\r\n\r\nconst Dashboard = () => {\r\n    const { stats, listings, actions, formatNumber } = useAppContext();\r\n    const chartRef = useRef(null);\r\n    const chartInstanceRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (chartRef.current) {\r\n            // Destroy existing chart if it exists\r\n            if (chartInstanceRef.current) {\r\n                chartInstanceRef.current.destroy();\r\n            }\r\n\r\n            const ctx = chartRef.current.getContext('2d');\r\n            chartInstanceRef.current = new Chart(ctx, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n                    datasets: [{\r\n                        label: 'Food Donations (kg)',\r\n                        data: [120, 190, 150, 220, 180, 300, 280, 250, 320, 350, 400, 380],\r\n                        backgroundColor: '#4CAF50',\r\n                        borderColor: '#388E3C',\r\n                        borderWidth: 1\r\n                    }]\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // Cleanup function\r\n        return () => {\r\n            if (chartInstanceRef.current) {\r\n                chartInstanceRef.current.destroy();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const recentListings = [...listings].reverse().slice(0, 3);\r\n\r\n    return (\r\n        <section className=\"dashboard\" id=\"dashboard\">\r\n            <div className=\"dashboard-header\">\r\n                <h2 className=\"section-title\">Organization Dashboard</h2>\r\n                <button \r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => actions.showModal('donate')}\r\n                >\r\n                    Add Food Listing\r\n                </button>\r\n            </div>\r\n            \r\n            <div className=\"stats-grid\">\r\n                <div className=\"stat-card\">\r\n                    <h3>{stats.totalDonations || 0}</h3>\r\n                    <p>Total Donations</p>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <h3>{formatNumber(stats.mealsProvided || 0)}</h3>\r\n                    <p>Meals Provided</p>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <h3>{stats.co2Reduced || 0}</h3>\r\n                    <p>CO₂ Reduced (tons)</p>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <h3>{stats.activeDrivers || 0}</h3>\r\n                    <p>Active Drivers</p>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"chart-container\">\r\n                <h3>Monthly Food Distribution</h3>\r\n                <div style={{ position: 'relative', height: '300px' }}>\r\n                    <canvas ref={chartRef}></canvas>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"recent-listings\">\r\n                <h3>Recent Food Listings</h3>\r\n                <div className=\"food-cards\">\r\n                    {recentListings.map(listing => (\r\n                        <FoodCard key={listing.id} listing={listing} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}